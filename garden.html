<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Garden of Memories</title>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Crimson Text', serif;
            background: linear-gradient(135deg, #e8f4f8 0%, #f0f8ff 50%, #f5f5dc 100%);
            min-height: 100vh;
            overflow-x: hidden;
            color: #2c5530;
        }

        .garden-container {
            position: relative;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .sky-gradient {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 60vh;
            background: linear-gradient(180deg, 
                rgba(173, 216, 230, 0.3) 0%,
                rgba(255, 255, 255, 0.1) 50%,
                rgba(144, 238, 144, 0.1) 100%);
            z-index: 1;
        }

        .garden-header {
            text-align: center;
            padding: 2rem 1rem;
            z-index: 10;
            position: relative;
            margin-bottom: 2rem;
        }

        .garden-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            font-weight: 500;
            color: #2c5530;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 4px rgba(44, 85, 48, 0.1);
            animation: gentleFloat 6s ease-in-out infinite;
        }

        .garden-subtitle {
            font-style: italic;
            font-size: 1.1rem;
            color: #5a7c65;
            opacity: 0.8;
        }

        .garden-ground {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 40vh;
            background: linear-gradient(180deg, 
                rgba(139, 69, 19, 0.1) 0%,
                rgba(160, 82, 45, 0.2) 50%,
                rgba(101, 67, 33, 0.3) 100%);
            z-index: 2;
        }

        .soil-texture {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(101, 67, 33, 0.1) 2px, transparent 2px),
                radial-gradient(circle at 80% 20%, rgba(101, 67, 33, 0.1) 1px, transparent 1px),
                radial-gradient(circle at 40% 40%, rgba(101, 67, 33, 0.05) 1px, transparent 1px);
            background-size: 50px 50px, 30px 30px, 20px 20px;
        }

        .plant-container {
            position: relative;
            width: 100%;
            height: 60vh;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            z-index: 3;
            padding-bottom: 2rem;
            overflow: hidden;
        }

        .leaf {
            position: absolute;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, 
                #8B4513 0%, 
                #A0522D 30%, 
                #CD853F 70%, 
                #DAA520 100%);
            border-radius: 50%;
            transform-origin: center;
            animation: seedGrow 3s ease-out forwards;
            box-shadow: 0 4px 8px rgba(139, 69, 19, 0.3);
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="%2387CEEB"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>'), auto;
            transition: all 0.3s ease;
            z-index: 4;
            bottom: 0;
        }

        .floating-leaf {
            animation: seedGrow 3s ease-out forwards;
        }

        .leaf:hover {
            transform: scale(1.2);
            box-shadow: 0 8px 16px rgba(139, 69, 19, 0.5);
            animation-play-state: paused;
        }

        .leaf::before {
            content: '';
            position: absolute;
            top: 6px;
            left: 6px;
            width: 38px;
            height: 38px;
            background: linear-gradient(135deg, 
                rgba(139, 69, 19, 0.8) 0%, 
                rgba(160, 82, 45, 0.6) 50%, 
                rgba(205, 133, 63, 0.4) 100%);
            border-radius: 50%;
            z-index: -1;
        }

        .leaf-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            height: 90%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 0.4rem;
            color: #2c5530;
            line-height: 1.2;
            overflow: hidden;
            word-wrap: break-word;
            opacity: 0;
            animation: contentFadeIn 1s ease-out 2s forwards;
        }

        .memory-text {
            font-size: 0.4rem;
            margin-bottom: 0.1rem;
            font-weight: 500;
            color: #8B4513;
        }

        .memory-date {
            font-size: 0.35rem;
            color: #A0522D;
            opacity: 0.9;
            font-style: italic;
            margin-top: 0.05rem;
        }

        .memory-input-section {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            z-index: 20;
            width: 90%;
            max-width: 500px;
        }

        .input-container {
            display: flex;
            gap: 1rem;
            align-items: flex-end;
            background: rgba(255, 255, 255, 0.9);
            padding: 1.5rem;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(44, 85, 48, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .memory-textarea {
            flex: 1;
            min-height: 60px;
            max-height: 120px;
            padding: 0.8rem;
            border: 2px solid rgba(144, 238, 144, 0.3);
            border-radius: 15px;
            font-family: 'Crimson Text', serif;
            font-size: 1rem;
            color: #2c5530;
            background: rgba(255, 255, 255, 0.8);
            resize: vertical;
            transition: all 0.3s ease;
        }

        .memory-textarea:focus {
            outline: none;
            border-color: #90EE90;
            box-shadow: 0 0 0 3px rgba(144, 238, 144, 0.1);
        }

        .add-memory-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.3rem;
            padding: 0.8rem 1.2rem;
            background: linear-gradient(135deg, #90EE90 0%, #98FB98 100%);
            border: none;
            border-radius: 15px;
            color: #2c5530;
            font-family: 'Crimson Text', serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(144, 238, 144, 0.3);
        }

        .add-memory-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(144, 238, 144, 0.4);
        }

        .btn-text {
            font-size: 0.8rem;
        }

        .btn-icon {
            font-size: 1.2rem;
        }

        .water-section {
            position: fixed;
            top: 2rem;
            right: 2rem;
            z-index: 20;
        }

        .water-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.3rem;
            padding: 1rem;
            background: linear-gradient(135deg, #87CEEB 0%, #B0E0E6 100%);
            border: none;
            border-radius: 50%;
            width: 80px;
            height: 80px;
            color: #2c5530;
            font-family: 'Crimson Text', serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(135, 206, 235, 0.3);
        }

        .water-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(135, 206, 235, 0.4);
        }

        .water-icon {
            font-size: 1.5rem;
        }

        .water-text {
            font-size: 0.7rem;
        }

        .reflection-memory {
            font-family: 'Crimson Text', serif;
            font-size: 1rem;
            color: #2c5530;
            margin-bottom: 1rem;
            font-style: italic;
        }

        .reflection-date {
            font-size: 0.8rem;
            color: #4a7c59;
            opacity: 0.8;
            font-style: italic;
            margin-bottom: 0.8rem;
        }

        .reflection-text {
            font-family: 'Playfair Display', serif;
            font-size: 0.9rem;
            color: #5a7c65;
            line-height: 1.4;
        }

        .quote-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 100;
            backdrop-filter: blur(5px);
        }

        .quote-content {
            background: rgba(255, 255, 255, 0.95);
            padding: 3rem;
            border-radius: 20px;
            max-width: 600px;
            margin: 2rem;
            text-align: center;
            position: relative;
            box-shadow: 0 20px 40px rgba(44, 85, 48, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .quote-text {
            font-family: 'Playfair Display', serif;
            font-size: 1.3rem;
            line-height: 1.6;
            color: #2c5530;
            margin-bottom: 1rem;
        }

        .close-quote-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 2rem;
            color: #5a7c65;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-quote-btn:hover {
            color: #2c5530;
            transform: scale(1.1);
        }

        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(144, 238, 144, 0.3);
            border-radius: 50%;
            animation: float 20s linear infinite;
        }

        .particle:nth-child(1) {
            left: 10%;
            animation-delay: 0s;
        }

        .particle:nth-child(2) {
            left: 30%;
            animation-delay: 4s;
        }

        .particle:nth-child(3) {
            left: 50%;
            animation-delay: 8s;
        }

        .particle:nth-child(4) {
            left: 70%;
            animation-delay: 12s;
        }

        .particle:nth-child(5) {
            left: 90%;
            animation-delay: 16s;
        }

        @keyframes gentleFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        @keyframes contentFadeIn {
            from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        .leaf-reflection-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.98);
            padding: 2.5rem;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(44, 85, 48, 0.3);
            z-index: 50;
            max-width: 500px;
            text-align: center;
            display: none;
            border: 2px solid rgba(144, 238, 144, 0.2);
        }

        .reflection-memory {
            font-family: 'Crimson Text', serif;
            font-size: 1.2rem;
            color: #2c5530;
            margin-bottom: 1rem;
            font-style: italic;
            line-height: 1.4;
        }

        .reflection-date {
            font-size: 1rem;
            color: #4a7c59;
            opacity: 0.9;
            font-style: italic;
            margin-bottom: 1rem;
            font-weight: 500;
        }

        .reflection-text {
            font-family: 'Playfair Display', serif;
            font-size: 1rem;
            color: #5a7c65;
            line-height: 1.5;
        }

        @keyframes seedGrow {
            0% {
                transform: scale(0) translateY(20px);
                opacity: 0;
            }
            50% {
                transform: scale(0.8) translateY(10px);
                opacity: 0.8;
            }
            100% {
                transform: scale(1) translateY(0);
                opacity: 1;
            }
        }

        @keyframes plantGrow {
            0% {
                transform: scale(0) translateY(20px);
                opacity: 0;
            }
            50% {
                transform: scale(0.8) translateY(10px);
                opacity: 0.8;
            }
            100% {
                transform: scale(1) translateY(0);
                opacity: 1;
            }
        }

        .share-section {
            position: fixed;
            top: 2rem;
            left: 2rem;
            z-index: 20;
        }

        .share-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.3rem;
            padding: 1rem;
            background: linear-gradient(135deg, #90EE90 0%, #98FB98 100%);
            border: none;
            border-radius: 50%;
            width: 80px;
            height: 80px;
            color: #2c5530;
            font-family: 'Crimson Text', serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(144, 238, 144, 0.3);
        }

        .share-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(144, 238, 144, 0.4);
        }

        .share-icon {
            font-size: 1.5rem;
        }

        .share-text {
            font-size: 0.7rem;
        }

        .plant {
            position: absolute;
            width: 120px;
            height: 150px;
            background: linear-gradient(135deg, 
                #228B22 0%, 
                #32CD32 30%, 
                #90EE90 70%, 
                #98FB98 100%);
            border-radius: 50% 50% 0 0;
            transform-origin: bottom center;
            animation: plantGrow 2s ease-out forwards;
            box-shadow: 0 4px 8px rgba(34, 139, 34, 0.3);
            z-index: 5;
            bottom: 0;
        }

        .plant::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 8px;
            height: 60px;
            background: linear-gradient(180deg, #228B22 0%, #32CD32 100%);
            border-radius: 4px;
        }

        .plant::after {
            content: '';
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 60px;
            background: linear-gradient(135deg, 
                rgba(34, 139, 34, 0.8) 0%, 
                rgba(50, 205, 50, 0.6) 50%, 
                rgba(144, 238, 144, 0.4) 100%);
            border-radius: 50% 50% 0 0;
            z-index: -1;
        }

        @media (max-width: 768px) {
            .garden-title {
                font-size: 2rem;
            }

            .input-container {
                flex-direction: column;
                gap: 0.5rem;
            }

            .water-btn {
                width: 60px;
                height: 60px;
            }

            .water-text {
                font-size: 0.6rem;
            }

            .quote-content {
                margin: 1rem;
                padding: 2rem;
            }

            .quote-text {
                font-size: 1.1rem;
            }

            .leaf-reflection-modal {
                margin: 1rem;
                max-width: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="garden-container">
        <div class="sky-gradient"></div>
        
        <header class="garden-header">
            <h1 class="garden-title">Digital Garden of Memories</h1>
            <p class="garden-subtitle">Where thoughts bloom like gentle leaves</p>
        </header>

        <div class="garden-ground">
            <div class="soil-texture"></div>
        </div>

        <div class="plant-container" id="plantContainer">
            <!-- Leaves will be dynamically added here -->
        </div>

        <div class="memory-input-section">
            <div class="input-container">
                <textarea 
                    id="memoryInput" 
                    placeholder="Write a memory, thought, or feeling..."
                    class="memory-textarea"
                ></textarea>
                <button id="addMemoryBtn" class="add-memory-btn">
                    <span class="btn-text">Plant Seed</span>
                    <span class="btn-icon">ðŸŒ±</span>
                </button>
            </div>
        </div>

        <div class="share-section">
            <button id="shareBtn" class="share-btn">
                <span class="share-icon">ðŸŒ¿</span>
                <span class="share-text">Share Garden</span>
            </button>
        </div>

        <div class="water-section">
            <button id="waterBtn" class="water-btn">
                <span class="water-icon">ðŸ’§</span>
                <span class="water-text">Water Me</span>
            </button>
        </div>

        <div id="quoteModal" class="quote-modal">
            <div class="quote-content">
                <div class="quote-text" id="quoteText"></div>
                <button class="close-quote-btn" id="closeQuoteBtn">Ã—</button>
            </div>
        </div>

        <div class="floating-particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>
    </div>

    <script>
        class DigitalGarden {
            constructor() {
                this.memories = JSON.parse(localStorage.getItem('gardenMemories')) || [];
                this.plants = JSON.parse(localStorage.getItem('gardenPlants')) || [];
                this.leafCount = 0;
                this.plantCount = 0;
                // Generate a unique user ID for sharing
                this.userId = localStorage.getItem('gardenUserId') || this.generateUserId();
                localStorage.setItem('gardenUserId', this.userId);
                
                this.quotes = [
                    "In the garden of memories, every leaf tells a story of growth.",
                    "Water your thoughts with kindness, and watch them bloom.",
                    "The most beautiful gardens are grown from the seeds of patience.",
                    "Every memory is a leaf that adds beauty to the tree of life.",
                    "In stillness, we find the wisdom that grows like gentle leaves.",
                    "The garden of the heart grows wild with love and tenderness.",
                    "Each moment is a seed that can grow into something beautiful.",
                    "Like leaves in the wind, our thoughts dance and find their place.",
                    "The earth has music for those who listen with their hearts.",
                    "Growth happens in the quiet spaces between our thoughts.",
                    "Every leaf that falls makes room for new growth.",
                    "The garden of memories is watered with tears of joy and sorrow.",
                    "In the gentle rhythm of nature, we find our own peace.",
                    "The most precious flowers bloom in the garden of gratitude.",
                    "Like morning dew, fresh thoughts nourish the soul.",
                    "Every memory planted with love grows into something beautiful.",
                    "The garden of the mind flourishes with gentle care.",
                    "In the soft light of dawn, new possibilities bloom.",
                    "The heart's garden grows wild with the seeds of hope.",
                    "Each leaf whispers secrets of growth and renewal."
                ];
                
                this.leafReflections = [
                    "This memory reminds you of growth and resilience.",
                    "A gentle reminder that every experience shapes who you are.",
                    "This thought carries the wisdom of your journey.",
                    "Like a leaf in the wind, this memory dances with possibility.",
                    "This reflection holds the quiet strength of your inner garden.",
                    "A moment of peace that grows more beautiful with time.",
                    "This memory is a seed of hope that continues to bloom.",
                    "Like morning dew, this thought nourishes your soul.",
                    "A gentle whisper of love and understanding.",
                    "This memory is a bridge between past and future growth.",
                    "A reminder that every leaf has its own unique beauty.",
                    "This thought carries the fragrance of your personal journey.",
                    "Like roots in the earth, this memory grounds you.",
                    "A gentle breeze of wisdom from your inner garden.",
                    "This reflection is a testament to your continuous growth.",
                    "Like sunlight through leaves, this memory illuminates your path.",
                    "A gentle reminder that growth happens in quiet moments.",
                    "This thought is a flower that blooms in the garden of your mind.",
                    "Like a leaf that turns toward the sun, this memory guides you.",
                    "A gentle whisper of the wisdom you carry within."
                ];
                
                this.init();
            }

            generateUserId() {
                return 'user_' + Math.random().toString(36).substr(2, 9);
            }

            init() {
                this.setupEventListeners();
                this.loadExistingMemories();
                this.createFloatingParticles();
                this.startPlantGrowth();
                this.loadSharedGarden(); // Load shared garden on initialization
            }

            setupEventListeners() {
                const addMemoryBtn = document.getElementById('addMemoryBtn');
                const memoryInput = document.getElementById('memoryInput');
                const shareBtn = document.getElementById('shareBtn');
                const closeQuoteBtn = document.getElementById('closeQuoteBtn');
                const quoteModal = document.getElementById('quoteModal');

                addMemoryBtn.addEventListener('click', () => this.addMemory());
                memoryInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        this.addMemory();
                    }
                });

                shareBtn.addEventListener('click', () => this.shareGarden());
                closeQuoteBtn.addEventListener('click', () => this.hideQuote());
                quoteModal.addEventListener('click', (e) => {
                    if (e.target === quoteModal) {
                        this.hideQuote();
                    }
                });
            }

            shareGarden() {
                // Create a simple sharing mechanism using URL parameters
                const gardenData = {
                    memories: this.memories,
                    userId: this.userId
                };
                
                // Encode the garden data
                const encodedData = btoa(JSON.stringify(gardenData));
                const shareUrl = `${window.location.origin}${window.location.pathname}?garden=${encodedData}`;
                
                // Copy to clipboard
                navigator.clipboard.writeText(shareUrl).then(() => {
                    this.showGentleMessage('Garden link copied! Share with friends... ðŸŒ¿');
                }).catch(() => {
                    // Fallback for older browsers
                    const textArea = document.createElement('textarea');
                    textArea.value = shareUrl;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    this.showGentleMessage('Garden link copied! Share with friends... ðŸŒ¿');
                });
            }

            loadSharedGarden() {
                const urlParams = new URLSearchParams(window.location.search);
                const gardenParam = urlParams.get('garden');
                
                if (gardenParam) {
                    try {
                        const gardenData = JSON.parse(atob(gardenParam));
                        if (gardenData.memories && gardenData.memories.length > 0) {
                            // Load shared memories
                            this.memories = [...this.memories, ...gardenData.memories];
                            this.saveMemories();
                            
                            // Clear existing seeds and reload
                            const plantContainer = document.getElementById('plantContainer');
                            if (plantContainer) {
                                plantContainer.innerHTML = '';
                            }
                            
                            this.leafCount = 0;
                            this.loadExistingMemories();
                            
                            this.showGentleMessage('Shared garden seeds added to your garden... ðŸŒ±');
                        }
                    } catch (error) {
                        console.error('Error loading shared garden:', error);
                    }
                }
            }

            addMemory() {
                console.log('ðŸŒ± Adding memory...');
                const memoryInput = document.getElementById('memoryInput');
                const memoryText = memoryInput.value.trim();

                if (memoryText === '') {
                    console.log('ðŸŒ± Empty memory text, using default...');
                    // Use a default welcome message if empty
                    const welcomeText = 'Welcome to your digital garden! ðŸŒ±';
                    this.createMemory(welcomeText);
                    return;
                }

                this.createMemory(memoryText);
            }

            createMemory(memoryText) {
                console.log('ðŸŒ± Creating memory:', memoryText);
                
                const memory = {
                    id: Date.now(),
                    text: memoryText,
                    timestamp: new Date().toISOString(),
                    userId: this.userId,
                    date: new Date().toLocaleDateString('en-US', {
                        year: 'numeric',
                        month: 'short',
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                    })
                };

                console.log('ðŸŒ± Memory object:', memory);

                this.memories.push(memory);
                this.saveMemories();
                this.createLeaf(memory);
                
                // Clear input if it exists
                const memoryInput = document.getElementById('memoryInput');
                if (memoryInput) {
                    memoryInput.value = '';
                }
                
                // Gentle feedback
                this.showGentleMessage('Memory planted with love...');
                console.log('âœ… Memory created and leaf planted!');
            }

            createLeaf(memory) {
                console.log('ðŸŒ± Creating seed for memory:', memory.text);
                
                const plantContainer = document.getElementById('plantContainer');
                if (!plantContainer) {
                    console.error('âŒ Plant container not found!');
                    return;
                }

                // Calculate seed position in ground
                const seedPosition = this.calculateSeedPosition();
                console.log('ðŸŒ± Seed position:', seedPosition);
                
                const seed = document.createElement('div');
                seed.className = 'leaf floating-leaf';
                seed.style.left = `${seedPosition.x}px`;
                seed.style.bottom = '0px'; // Embed in ground
                seed.setAttribute('data-memory-id', memory.id);
                seed.setAttribute('data-user-id', memory.userId);
                seed.setAttribute('data-is-seed', 'true');

                // Create seed content with date
                const content = document.createElement('div');
                content.className = 'leaf-content';
                
                // Add memory text
                const memoryTextElement = document.createElement('div');
                memoryTextElement.className = 'memory-text';
                memoryTextElement.textContent = memory.text;
                content.appendChild(memoryTextElement);
                
                // Add date
                const dateElement = document.createElement('div');
                dateElement.className = 'memory-date';
                dateElement.textContent = memory.date;
                content.appendChild(dateElement);

                seed.appendChild(content);
                plantContainer.appendChild(seed);

                console.log('ðŸŒ± Seed created and embedded in ground');

                // Add click event for seed growth
                seed.addEventListener('click', () => this.growSeed(seed, memory));
                seed.addEventListener('mouseenter', () => this.showSeedReflection(memory));
                seed.addEventListener('mouseleave', () => this.hideSeedReflection());

                this.leafCount++;
                console.log('ðŸŒ± Total seed count:', this.leafCount);

                // Gentle sound effect
                this.playGentleSound();
            }

            growSeed(seed, memory) {
                const plantContainer = document.getElementById('plantContainer');
                
                // Get seed position
                const rect = seed.getBoundingClientRect();
                const containerRect = plantContainer.getBoundingClientRect();
                const x = rect.left - containerRect.left + rect.width / 2;
                
                // Remove the seed
                seed.remove();
                
                // Create plant
                this.createPlant(memory, x);
                
                // Show reflection quote
                this.showGrowthReflection(memory);
                
                this.showGentleMessage('Seed has grown into a beautiful plant! ðŸŒ¿');
                this.playGentleSound();
            }

            createPlant(memory, x) {
                const plantContainer = document.getElementById('plantContainer');
                const plant = document.createElement('div');
                plant.className = 'plant';
                plant.style.left = `${x - 60}px`; // Center the plant
                plant.style.bottom = '0px'; // Plant grows from ground
                
                // Create plant content
                const content = document.createElement('div');
                content.className = 'leaf-content';
                content.style.color = '#2c5530';
                
                // Add memory text
                const memoryTextElement = document.createElement('div');
                memoryTextElement.className = 'memory-text';
                memoryTextElement.textContent = memory.text;
                memoryTextElement.style.color = '#2c5530';
                content.appendChild(memoryTextElement);
                
                // Add date
                const dateElement = document.createElement('div');
                dateElement.className = 'memory-date';
                dateElement.textContent = memory.date;
                dateElement.style.color = '#4a7c59';
                content.appendChild(dateElement);
                
                plant.appendChild(content);
                plantContainer.appendChild(plant);
                
                // Add hover events
                plant.addEventListener('mouseenter', () => this.showPlantReflection(memory));
                plant.addEventListener('mouseleave', () => this.hidePlantReflection());
            }

            showGrowthReflection(memory) {
                const reflection = this.leafReflections[memory.id % this.leafReflections.length];
                const memoryText = memory.text;
                const memoryDate = memory.date || new Date().toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                const reflectionModal = document.createElement('div');
                reflectionModal.className = 'leaf-reflection-modal';
                reflectionModal.innerHTML = `
                    <div class="reflection-memory">"${memoryText}"</div>
                    <div class="reflection-date">${memoryDate}</div>
                    <div class="reflection-text">${reflection}</div>
                `;
                
                document.body.appendChild(reflectionModal);
                
                // Show with gentle animation
                setTimeout(() => {
                    reflectionModal.style.display = 'block';
                    reflectionModal.style.opacity = '0';
                    reflectionModal.style.transform = 'translate(-50%, -50%) scale(0.8)';
                    
                    setTimeout(() => {
                        reflectionModal.style.transition = 'all 0.3s ease';
                        reflectionModal.style.opacity = '1';
                        reflectionModal.style.transform = 'translate(-50%, -50%) scale(1)';
                    }, 10);
                }, 100);
            }

            showSeedReflection(memory) {
                const memoryText = memory.text;
                const memoryDate = memory.date || new Date().toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                const reflectionModal = document.createElement('div');
                reflectionModal.className = 'leaf-reflection-modal';
                reflectionModal.innerHTML = `
                    <div class="reflection-memory">"${memoryText}"</div>
                    <div class="reflection-date">${memoryDate}</div>
                    <div class="reflection-text">Click to water this seed and watch it grow into a beautiful plant!</div>
                `;
                
                document.body.appendChild(reflectionModal);
                
                // Show with gentle animation
                setTimeout(() => {
                    reflectionModal.style.display = 'block';
                    reflectionModal.style.opacity = '0';
                    reflectionModal.style.transform = 'translate(-50%, -50%) scale(0.8)';
                    
                    setTimeout(() => {
                        reflectionModal.style.transition = 'all 0.3s ease';
                        reflectionModal.style.opacity = '1';
                        reflectionModal.style.transform = 'translate(-50%, -50%) scale(1)';
                    }, 10);
                }, 100);
            }

            hideSeedReflection() {
                const reflectionModal = document.querySelector('.leaf-reflection-modal');
                if (reflectionModal) {
                    reflectionModal.style.opacity = '0';
                    reflectionModal.style.transform = 'translate(-50%, -50%) scale(0.8)';
                    
                    setTimeout(() => {
                        if (reflectionModal.parentNode) {
                            reflectionModal.parentNode.removeChild(reflectionModal);
                        }
                    }, 300);
                }
            }

            showPlantReflection(memory) {
                const reflection = this.leafReflections[memory.id % this.leafReflections.length];
                const memoryText = memory.text;
                const memoryDate = memory.date || new Date().toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                const reflectionModal = document.createElement('div');
                reflectionModal.className = 'leaf-reflection-modal';
                reflectionModal.innerHTML = `
                    <div class="reflection-memory">"${memoryText}"</div>
                    <div class="reflection-date">${memoryDate}</div>
                    <div class="reflection-text">${reflection}</div>
                `;
                
                document.body.appendChild(reflectionModal);
                
                // Show with gentle animation
                setTimeout(() => {
                    reflectionModal.style.display = 'block';
                    reflectionModal.style.opacity = '0';
                    reflectionModal.style.transform = 'translate(-50%, -50%) scale(0.8)';
                    
                    setTimeout(() => {
                        reflectionModal.style.transition = 'all 0.3s ease';
                        reflectionModal.style.opacity = '1';
                        reflectionModal.style.transform = 'translate(-50%, -50%) scale(1)';
                    }, 10);
                }, 100);
            }

            hidePlantReflection() {
                const reflectionModal = document.querySelector('.leaf-reflection-modal');
                if (reflectionModal) {
                    reflectionModal.style.opacity = '0';
                    reflectionModal.style.transform = 'translate(-50%, -50%) scale(0.8)';
                    
                    setTimeout(() => {
                        if (reflectionModal.parentNode) {
                            reflectionModal.parentNode.removeChild(reflectionModal);
                        }
                    }, 300);
                }
            }

            calculateSeedPosition() {
                const container = document.getElementById('plantContainer');
                const containerRect = container.getBoundingClientRect();
                
                // Create a natural distribution across the ground
                const angle = (this.leafCount * 137.5) % 360; // Golden angle
                const radius = 150 + (this.leafCount * 30); // Growing radius
                const x = containerRect.width / 2 + Math.cos(angle * Math.PI / 180) * radius;
                
                return { x };
            }

            loadExistingMemories() {
                this.memories.forEach((memory, index) => {
                    // Stagger the loading animation
                    setTimeout(() => {
                        this.createLeaf(memory);
                    }, index * 300);
                });
            }

            showMemoryDetails(memory) {
                const details = `
                    <div style="text-align: center;">
                        <h3 style="color: #2c5530; margin-bottom: 1rem;">Memory Details</h3>
                        <p style="color: #5a7c65; margin-bottom: 0.5rem;"><strong>Date:</strong> ${memory.date}</p>
                        <p style="color: #5a7c65; margin-bottom: 1rem;"><strong>Memory:</strong> "${memory.text}"</p>
                        <p style="color: #4a7c59; font-style: italic; font-size: 0.9rem;">This memory is part of your growing garden of thoughts and feelings.</p>
                    </div>
                `;
                
                this.showGentleModal(details, 'Memory Details');
            }

            startPlantGrowth() {
                // Simulate gentle plant growth over time
                setInterval(() => {
                    const particles = document.querySelectorAll('.particle');
                    particles.forEach(particle => {
                        particle.style.animationDelay = Math.random() * 20 + 's';
                    });
                }, 5000);
            }

            showQuote() {
                const quote = this.quotes[Math.floor(Math.random() * this.quotes.length)];
                const quoteModal = document.getElementById('quoteModal');
                const quoteText = document.getElementById('quoteText');
                
                quoteText.textContent = quote;
                quoteModal.style.display = 'flex';
                
                this.playGentleSound();
            }

            hideQuote() {
                const quoteModal = document.getElementById('quoteModal');
                quoteModal.style.display = 'none';
            }

            showGentleMessage(message) {
                const messageDiv = document.createElement('div');
                messageDiv.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: rgba(255, 255, 255, 0.95);
                    padding: 1rem 2rem;
                    border-radius: 15px;
                    color: #2c5530;
                    font-family: 'Crimson Text', serif;
                    font-size: 1rem;
                    z-index: 1000;
                    box-shadow: 0 10px 30px rgba(44, 85, 48, 0.2);
                    animation: gentleFloat 2s ease-in-out;
                `;
                messageDiv.textContent = message;
                
                document.body.appendChild(messageDiv);
                
                setTimeout(() => {
                    messageDiv.style.opacity = '0';
                    messageDiv.style.transform = 'translate(-50%, -50%) scale(0.8)';
                    setTimeout(() => {
                        if (messageDiv.parentNode) {
                            messageDiv.parentNode.removeChild(messageDiv);
                        }
                    }, 300);
                }, 2000);
            }

            showGentleModal(content, title) {
                const modal = document.createElement('div');
                modal.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: rgba(0, 0, 0, 0.3);
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    z-index: 1000;
                    backdrop-filter: blur(5px);
                `;
                
                const modalContent = document.createElement('div');
                modalContent.style.cssText = `
                    background: rgba(255, 255, 255, 0.95);
                    padding: 2rem;
                    border-radius: 20px;
                    max-width: 500px;
                    margin: 2rem;
                    text-align: center;
                    box-shadow: 0 20px 40px rgba(44, 85, 48, 0.2);
                    border: 1px solid rgba(255, 255, 255, 0.3);
                `;
                
                modalContent.innerHTML = `
                    <h3 style="color: #2c5530; margin-bottom: 1rem; font-family: 'Playfair Display', serif;">${title}</h3>
                    ${content}
                    <button onclick="this.parentElement.parentElement.remove()" style="
                        margin-top: 1rem;
                        padding: 0.5rem 1rem;
                        background: linear-gradient(135deg, #90EE90 0%, #98FB98 100%);
                        border: none;
                        border-radius: 10px;
                        color: #2c5530;
                        font-family: 'Crimson Text', serif;
                        cursor: pointer;
                        transition: all 0.3s ease;
                    ">Close</button>
                `;
                
                modal.appendChild(modalContent);
                document.body.appendChild(modal);
                
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.remove();
                    }
                });
            }

            createFloatingParticles() {
                // Particles are already in HTML, just animate them
                const particles = document.querySelectorAll('.particle');
                particles.forEach((particle, index) => {
                    particle.style.animationDelay = (index * 4) + 's';
                });
            }

            playGentleSound() {
                // Create a gentle sound effect using Web Audio API
                try {
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                    oscillator.frequency.exponentialRampToValueAtTime(600, audioContext.currentTime + 0.1);
                    
                    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                    
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.1);
                } catch (error) {
                    console.log('Audio not supported');
                }
            }

            saveMemories() {
                localStorage.setItem('gardenMemories', JSON.stringify(this.memories));
            }
        }

        // Initialize the garden when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            new DigitalGarden();
        });
    </script>
</body>
</html> 